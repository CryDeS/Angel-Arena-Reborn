"spike_dash"
{
	"BaseClass"				"ability_datadriven"
	"AbilityType"			"DOTA_ABILITY_TYPE_BASIC | DOTA_ABILITY_BEHAVIOR_ROOT_DISABLES"
	"AbilityBehavior"		"DOTA_ABILITY_BEHAVIOR_POINT"
	"AbilityTextureName"	"custom/spike_dash"
	"AbilityUnitDamageType"	"DAMAGE_TYPE_PHYSICAL"	
	
	"MaxLevel"				"7"
	
	"AbilityCastRange"		"700"
	"AbilityCooldown"		"8.0 7.5 7.0 6.5 6.0 5.5 5.0"
	"AbilityDuration"		"0.0"
	"AbilityCastPoint"		"0.1"
	"AbilityManaCost"		"20 30 40 50 60 70 80"
	"AbilityDamage"			"100 120 140 160 180 200 220"
	
	"precache"
	{
		"soundfile"			"sounds/items/deso_target.vsnd"
		"particle"			"particles/units/heroes/hero_bloodseeker/bloodseeker_rupture.vpcf"
	}
	
	"AbilitySpecial"
	{
		"01"
		{
			"var_type"			"FIELD_INTEGER"
			"range_tooltip"		"700"
		}
	}
	
	"OnSpellStart"
	{
		"RunScript"
		{
			"ScriptFile"					"heroes/spike/dash.lua"
			"Function"						"OnSpellStart"
			"Target"						"POINT"
			"Damage"						"%AbilityDamage"
			"ModifierName"					"modifier_spike_dash_active"
		}
		"ApplyMotionController"
		{
		    "Target" 						"CASTER"
		    "ScriptFile"    				"heroes/spike/dash.lua"
		    "HorizontalControlFunction" 	"MotionHorizontal"
		    "VerticalControlFunction" 		"MotionVertical"         
		}
		
		"ApplyModifier"
		{
			"ModifierName"					"modifier_spike_dash_active"
			"Target"						"CASTER"
		}
		"FireSound"
		{
			"EffectName"					"Item_Desolator.Target"
			"Target"						"CASTER"
		}
		"FireSound"
		{
			"EffectName"					"Item_Desolator.Target"
			"Target"						"CASTER"
		}
		"FireSound"
		{
			"EffectName"					"Item_Desolator.Target"
			"Target"						"CASTER"
		}
	}
	
	"Modifiers"
	{
		"modifier_spike_dash_active"
		{
			"IsHidden"				"0"
			"Passive"				"0"
			"IsBuff"				"1"
			"EffectName"			"particles/units/heroes/hero_bloodseeker/bloodseeker_rupture.vpcf"
			"EffectAttachType"		"attach_origin"
		}
	}
	
}

"spike_heal"
{
	// General
	//-------------------------------------------------------------------------------------------------------------
    "AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	"BaseClass"					    "ability_lua"
	"ScriptFile"					"heroes/spike/spike_heal"
	"AbilityTextureName"			"custom/angel_arena_heal_ward"
	"MaxLevel"						"7"
	
	"AbilityCooldown"				"26 25 24 23 22 21 20"
	"AbilityCastPoint"				"0.1"
	"AbilityManaCost"				"100 110 120 130 140 150 160"
	
	"precache"
	{
		"soundfile"					"soundevents/game_sounds_heroes/game_sounds_bloodseeker.vsndevts"
		"particle"					"particles/world_shrine/dire_shrine_active_flash.vpcf"
		"particle"					"particles/econ/items/bloodseeker/bloodseeker_eztzhok_weapon/bloodseeker_bloodrage_eztzhok.vpcf"
	}
	// Special
	//-------------------------------------------------------------------------------------------------------------
	"AbilitySpecial"
	{
		"01"
		{
			"var_type"			"FIELD_FLOAT"
			"heal_per_sec"		"1.0"
		}
		"02"
		{
			"var_type"			"FIELD_INTEGER"
			"status_resist"		"10 12 14 16 18 20 22"
		}
		"03"
		{
			"var_type"			"FIELD_FLOAT"
			"multiplier"		"200"
		}
		"04"
		{
			"var_type"			"FIELD_FLOAT"
			"active_duration"	"3"
		}
		"05"
		{
			"var_type"			"FIELD_FLOAT"
			"thresshold_pct"	"25"
		}
		"06"
		{
			"var_type"			"FIELD_FLOAT"
			"passive_duration"	"0.5"
		}
	}
}


"angel_arena_shell"
{
	// General
	//-------------------------------------------------------------------------------------------------------------
	"BaseClass"						"ability_lua"
	"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
	"AbilityUnitDamageType"			"DAMAGE_TYPE_PURE"
	"AbilityTextureName"			"custom/angel_arena_shell"
	
	"ScriptFile"					"heroes/spike/shell.lua"
	
	"MaxLevel" 						"7"
	// Special
	//-------------------------------------------------------------------------------------------------------------
	"AbilitySpecial"
	{
		"01"
		{
			"var_type"					"FIELD_INTEGER"
			"return_damage"				"10 12 14 16 18 19 20"
			"LinkedSpecialBonus"		"spike_special_bonus_shell_25"
		}
	}
}

"spike_conclusion"
{
	"BaseClass"				"ability_datadriven"
	"AbilityType"			"DOTA_ABILITY_TYPE_ULTIMATE"
	"AbilityBehavior"		"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_PSEUDO_QUEUE | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	"AbilityTextureName"	"custom/spike_conclusion"
	
	"MaxLevel"				"7"
	"AbilityCooldown"		"75.0"
	"AbilityDuration"		"4.0"
	"AbilityCastPoint"		"0.0"
	"AbilityManaCost"		"150 200 250 300 350 400 450"
	
	"precache"
	{
		"soundfile"			"soundevents/game_sounds_heroes/game_sounds_ursa.vsndevts"
		"particle"			"particles/units/heroes/hero_ursa/ursa_enrage_buff_b.vpcf"
	}
	
	"AbilitySpecial"
	{
		"01"
		{
			"var_type"			"FIELD_FLOAT"
			"duration"			"4.0"
		}
		"02"
		{
			"var_type"			"FIELD_INTEGER"
			"total_cooldown"	"200 175 150 125 100 85 75"
		}
		"03"
		{
			"var_type"			"FIELD_INTEGER"
			"damage_by_creep"	"5"
		}
		"04"
		{
			"var_type"			"FIELD_INTEGER"
			"damage_by_hero"	"15"
		}
	}
	
	"OnSpellStart"
	{
		"RunScript"
		{
			"ScriptFile"	"heroes/spike/conclusion.lua"
			"Function"		"OnSpellStart"
		}
		"FireSound"
		{
			"Target"		"CASTER"
			"EffectName"	"Hero_Ursa.Enrage"
		}
		
		"ApplyModifier"
		{
			"ModifierName"  "modifier_spike_conclusion_active"
			"Target"		"CASTER"
			"Duration"		"%duration"
		}
	}
	
	"Modifiers"
	{
		"modifier_spike_conclusion_active"
		{
			"IsHidden"				"0"
			"Passive"				"0"
			"IsBuff"				"1"
			"EffectName"			"particles/units/heroes/hero_ursa/ursa_enrage_buff_b.vpcf"
			"EffectAttachType"		"attach_origin"
			
			"OnAbilityExecuted"
			{
				"DelayedAction"
				{
					"Delay" "0.01"
					"Action"
					{
						"RunScript"
						{
							"ScriptFile"		"heroes/spike/conclusion.lua"
							"Function"			"Active_CooldownIncrease"
							"Multipler"			"%total_cooldown"
						}
					}
				}
			}
				
			"OnDestroy"
			{
				"RunScript"
				{
					"ScriptFile"	"heroes/spike/conclusion.lua"
					"Function"		"Active_OnDestroy"
				}
			}
			
		}
		
		"modifier_spike_special_bonus_attack_passive"
		{
			"IsHidden"				"1"
			"Passive"				"1"
			"IsBuff"				"1"
			
			"OnKill"
			{
				"RunScript"
				{
					"ScriptFile"	"heroes/spike/talent_bonus_attack.lua"
					"Function"		"OnKill"
				}
			}
		}
		
		"modifier_spike_special_bonus_attack"
		{
			"IsHidden"			"0"
			"Passive"			"0"
			"IsBuff"			"1"
			
			"Attributes"		"MODIFIER_ATTRIBUTE_PERMANENT"

			"Properties"
			{
				"MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"	"1"
			}
		}
	
	}
}
